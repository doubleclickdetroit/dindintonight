// Generated by CoffeeScript 1.6.3
(function(){var e,t,n,r,i=[].slice;r=window.dd.Views;n=window.dd.Models;t=window.dd.Collections;e=function(){function e(e){this.events=e.events;this.applicationView=new r.ApplicationView({el:$("body"),events:this.events});this.coinModel=new n.CoinModel({events:this.events});this.userModel=new n.UserModel({events:this.events});this.locationModel=new n.LocationModel({events:this.events});this.paymentModel=new n.PaymentModel({events:this.events});this.mealsCollection=new t.MealsCollection({events:this.events});this.startApplication()}e.prototype.startApplication=function(){this.events.trigger("app-ready");this.setupListeners();return this.bootstrapData()};e.prototype.setupListeners=function(){var e=this;this.mealsCollection.on("sync",function(){var t;t=1<=arguments.length?i.call(arguments,0):[];return e.events.trigger("meals","reset",e.mealsCollection)});this.coinModel.on("change",function(){var t;t=1<=arguments.length?i.call(arguments,0):[];return e.events.trigger("coin","change",e.coinModel.attributes)});return this.locationModel.on("change",function(){var t;t=1<=arguments.length?i.call(arguments,0):[];return console.log("location","change",e.locationModel.attributes)})};e.prototype.bootstrapData=function(){this.coinModel.fetch();return this.mealsCollection.fetch()};return e}();window.dd.Controllers.ApplicationController=e}).call(this);